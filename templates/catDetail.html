{% extends "base.html" %}

{% block titre %}
<title>{{ competition.name }} - catÃ©gorie {{selectedCat.name}} {% if leg > 0 %}- leg {{ leg }}{% endif %}</title>
{% endblock %}

{% block content %}

<h1 class="text-body-emphasis">{{ competition.name }}</h1>

{% include "categoryListComponent.html" %}

<h2 class="text-body-emphasis">{{ selectedCat.name }}{% if leg > 0 %} - leg {{ leg }}{% endif %}</h2>
<div class="table-responsive">
<table class="table table-striped table-dark table-hover">
<caption>Classement non officiel</caption>
<thead>
    <tr>
        <th>Place</th>
        <th>Nom</th>
        <th>Club</th>
        <th>Temps</th>
        <th>Difference</th>
    </tr>
</thead>
<tbody>
    {% for r,t,d,c, complement in results %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td>
        {% if type == "run" %}
            <a class="link-light"
                href="{% url 'results:run' comp_id=competition.cid cls_id=selectedCat.id run_id=r.id%}">
                {{ r.name }}{% if complement %} ({{ complement }}){% endif %}
            </a>
        {% elif type == "team" %}
            <a class="link-light"
                href="{% url 'results:team' comp_id=competition.cid cls_id=selectedCat.id team_id=r.id%}">
                {{ r.name }}{% if complement %} ({{ complement }}){% endif %}
            </a>
        {% endif %}
        </td>
        <td>{{ c }}</td>
        <td>{{ t }}</td>
        <td>{{ d }}</td>
    </tr>
	{% empty %}
    <tr>
    </tr>
    {% endfor %}
</tbody>
</table>
</div>

{% endblock %}
