{% extends "base.html" %}

{%
"""
context :
"competition" : competition,
"categories": categories,
"selectedCat": categorie,
"leg":legInGet,
"results": qResults, listeTime, listeTimeDiff, listeClub, listeComplement,
"type":typeFormat}
"""
%}

{% block titre %}
<title>{{ competition.name }} - catÃ©gorie {{selectedCat.name}} {% if leg > 0 %}- leg {{ leg }}{% endif %}</title>
{% endblock %}


{% block style %}
.card {
    box-shadow: 0 20px 27px 0 rgb(0 0 0 / 5%);
}
.primary-link {
    color: #314047;
    transition: all .5s ease;
}
a {
    color: #02af74;
    text-decoration: none;
}
.mt-1 {
    margin-top: 0.25rem!important;
}
.bg-soft-secondary {
    background-color: rgba(116,120,141,.15)!important;
    color: #74788d!important;
}
.fs-19 {
    font-size: 19px;
}
{% endblock %}

{% block content %}

<h1 class="text-body-emphasis">{{ competition.name }}</h1>

{% include "categoryListComponent.html" %}

<h2 class="text-body-emphasis">{{ selectedCat.name }}{% if leg > 0 %} - leg {{ leg }}{% endif %}</h2>


<section class="section">
    <div class="row">
        <div class="col-lg-12">
            <div class="candidate-list">
                {% for r, t, d, c, complement in results %}
                <div class="candidate-list-box card mt-4">
                    <div class="row p-3 card-body">
                        <div class="row align-items-center col-lg-7">
                            <div class="col-3">
                                    <h3>{{ forloop.counter }}</h3>
                            </div>
                            <div class="col-9 candidate-list-content mt-3 mt-lg-0">
                                    <h4 class="fs-19 mb-0">
                                        <a class="primary-link" href="{% url 'results:run' comp_id=competition.cid cls_id=selectedCat.id run_id=r.id %}">{{ r.name }}&raquo;</a>
                                        {% if complement != None %}<span class="badge bg-success ms-1"><i class="mdi mdi-star align-middle"> {{ complement }} </i></span>{% endif %}
                                    </h4>
                                    <p class="text-muted mb-2">{% if c != '' %}Club: {{ c }}{% endif %}</p>
                            </div>
                        </div>
                            <div class="row align-items-center col-lg-5">
                                <div class="mt-2 mt-lg-0 d-flex gap-1">
                                    <span class="badge bg-soft-secondary fs-4 mt-1 w-50">{{ t }}</span>
                                    <span class="badge bg-soft-secondary fs-4 mt-1 w-50">{% if d != '' %}+ {{ d }}{% endif %}</span>
                                </div>
                            </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

{% endblock %}
